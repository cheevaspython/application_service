
# Микросервис для приема заявок



### Для запуска системы выполните команду:

```
docker-compose up -d --build
```


Это поднимет все необходимые сервисы, включая Kafka, базу данных и сам микросервис. 
(тех задание - JOB.md)

## Доступ к Swagger

После того как система будет запущена, вы можете получить доступ к Swagger UI, который предоставляет удобный интерфейс для работы с API:

**Swagger UI** - [http://localhost/docs](http://localhost/docs)

С помощью Swagger UI вы сможете:

- Просматривать доступные эндпоинты.
- Отправлять запросы к API.
- Смотреть документацию по параметрам и ответам.

## Архитектура сервиса

### Основные функции:

- **Прием заявки:** Сервис принимает данные заявки от пользователя, сохраняет их в базе данных и отправляет их в Kafka.
- **Интеграция с Kafka:** После сохранения заявки, она отправляется в топик application Apache Kafka для дальнейшей обработки.
- **Инъекция зависимостей:** Для удобства работы с сервисом используется библиотека Dishka, которая позволяет легко управлять зависимостями.

### Важные моменты:

- **Kafka:** Для работы с Kafka была использована базовая реализация. Вместо использования GUI для мониторинга сообщений, я решил самостоятельно реализовать обработку сообщений в коде, что помогло лучше понять работу Kafka, ее я использовал впервые.
- **Архитектура БД:** База данных имеет простую архитектуру, ориентированную на хранение заявок. В будущем можно будет доработать и расширить структуру в зависимости от требований.
- **API Версионирование:** Сервис поддерживает версионирование API, что позволяет легко вносить изменения в будущем, не нарушая совместимости.
- **Добавил .env в git для тестового старта, конечно это ужас!!**

## Примечания

- Для просмотра сообщений в Kafka можно использовать любой GUI-клиент, либо работать с системой напрямую через API.
- В процессе разработки Kafka использовалась впервые, и решения по обработке сообщений были выбраны с учетом опыта.
- База данных имеет минималистичную архитектуру, предназначенную для обработки заявок.

## Структура проекта

- `docker-compose.yml` — файл конфигурации для запуска всех сервисов (Kafka, база данных, микросервис).
- `source/` — основной код микросервиса.
- `swagger/` — документация для взаимодействия с API.

## Пример использования API

Пример POST-запроса для отправки заявки:

```bash
curl -X 'POST' \
  'http://127.0.0.1/api/v1/application/' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "user_name": "Mark Antonio",
  "description": "Hello world"
}'
```

Автор: [@nvim_msk]

```

```
